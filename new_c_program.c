#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <math.h>
#include <stdbool.h>
int isleapyear(int year){
    if ((year%4==0&&year%100!=0)||(year%400==0)){
        return 1;
    }
    return 0;
}

void checkdays(){
    int year,month,day;
    int dayinmonth[]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    int totaldays=0;

    
    printf("input year month days:");
    if (scanf("%d %d %d",&year,&month,&day)!=3){
        printf("input invalid \n");
        exit(0);
    }

    if (year<=0){
        printf("invalid year\n");
        exit(0);
    }

    if (month<1||month>12){
        printf("invalid month\n");
        exit(0);
    }
    


    if (isleapyear(year)){
        dayinmonth[1]=29;
    }

    if (day<1||day>dayinmonth[month-1]){
        printf("invalid days");
        exit(0);
    }

    for(int i=0;i<month-1;i++){
        totaldays+=dayinmonth[i];
    }

    totaldays+=day;

    printf("%d year %d month %d days %d total\n", year, month, day, totaldays);

}

void swap(int *a,int *b){
    int temp=*a;
    *a=*b;
    *b=temp;
}



void swap_numbers(){
    int a,b,c;
    printf("input number :");
    scanf("%d %d %d",&a,&b,&c);

    if (a>b){
        swap(&a,&b);
    }
    if (a>c){
        swap(&a,&c);
    }
    if (b>c){
        swap(&b,&c);
    }
    
    printf("order number : %d %d %d\n",a,b,c);
}

void print_ascii_img(){
    const char *c_pattern[]={
        "--------------------------------------#%+=====%%-----#@*===+%%--------------------------------------",
 "------------------------------------%+----------=%-%+---------=%------------------------------------",
 "----------------------------------=@-------------=%-------------@=----------------------------------",
 "----------------------------------#-------------+*#%#%%-------*#*%----------------------------------",
 "---------------------------------*@#=------=*##*+=--##*#######*=-=%---------------------------------",
 "--------------------------------@--=##==:..=@@@=..-+....-@@@-...:%=---------------------------------",
 "------------------------------*#=**@:.............%.............*+----------------------------------",
 "-----------------------------%======#+...........%*%:..........**%----------------------------------",
 "----------------------------%=========*#=....-+%*===+#*-....-*#===%---------------------------------",
 "---------------------------@===============+=============+*+======+#--------------------------------",
 "--------------------------%========================================%=-------------------------------",
 "------------------------+@+=========================================#-------------------------------",
 "----------------------=#=*=======================================*#=--*#----------------------------",
 "---------------------*-:@=======================================%=:::=--@---------------------------",
 "-------------------=#..*+====================================%++*:::#*-:+*--------------------------",
 "------------------*=..:%====================================%==*=::=*..+@+--------------------------",
 "-----------------%:...+*===================================@===@#::+*-+**=*=------------------------",
 "----------------%:...:@===================================#+==#***-:-:=%+%+%------------------------",
 "---------------#.....-@==================================*#===%===+%%*#---%**-----------------------",
 "--------------%-.:::.=*==================================%===+#=======#---+-#-----------------------",
 "-------------+-......+===================================%+==+*=======#----%-@--------=*%%%@@%#-----",
 "-------------#:......#=====================================+@%+=======#----**+@@%****#%%%%%#****%---",
 "------------#-......:%================================================#---#%%.%%@*-:-*%@@@#***%%----",
 "------------#.:::::.:%================================================#--#**************#@@*:..*----",
 "-----------==.......-%================================================#---=%#@@@@@%#*@:........+=---",
 "-----------*-.......-%================================================%----%*********#=........-@*--",
 "-----------%:.......-%================================================%----=%********@:........-%:++",
 "-----------%........-%================================================%----#=:-@***%-.........*-...=",
 "----------=#.:::::::-%================================================%---=*...:%*%:.........-+..:..",
 "----------=*........:%#%+=============================================%---=**.:::%%:.........#-.:..:",
 "----------=*.........#:::=%%+=====================##+=------=*%+===#%=%---=+*:.::#%:........*%-:..::",
 "----------=*.........*:::::::-+%%#=============+%=-------------#@*-:::#=--=%:@=..#:.......:#**+..:..",
 "----------=#.:::::::.*:::::::::::::-=+#%%##*++%=----=+*##%%*+-::::::::#----%:.=%%+.......:@***%:....",
 "-----------%.........*::::::::::::::::::::::::::::::::::::::::::::::::%%---**.::%:.......-%****%-..:",
 "-----------%:........*::::::::::::::::::::::::::::::::::::::::::::::::%=#---#..:#-........=#*****#%=",
 "-----------#-........#:::::::=**-:::::::::::::::::::::::::::::::::::::%:+*--*:.::*........+#******%-",
 "-----------+-........#:::::-#:::-:::::::::::::::::::::::::::::::::::::%::+*-+#.::*:......*********@-",
 "------------+......::%::::=%::::::::::::::::::::::::::::::::::::::::::#:::+*-@:::+=.....##*******#*-",
 "------------#:......:%::::%::::::::::::::::::::::::::::::::::::::::::-*::::*+%=.::#-...+#*****#%*=--",
 "------------*+......:%:::+*::::::::::#-::::::::::::::::::::::::::::::-*::=#-%=+.:..:+#%##**+--------",
 "-------------#:.....:%:::%-::::::::::+=::::::::::::::::::::::::::::::-%::.:#+-*.:.:.:@--------------",
 "-------------+-...:::%::-%:::::::::::=+::::::::::::::::::::::::::::::-%::.:#+-*.:.:.:@--------------",
 "--------------%:....:#::==:::::::::::-*::::::::::::::::::::::::::::::==..:..+#*.:.:.=#--------------",
 "---------------+....:#::%-:::::::::::-#::::::::::::::::::::::::::::::=%::.::.=+::.:.*---------------",
 "===============#=...:#::%::::::::::::-%::::::::::::::::::::::::::::::=*%-..::..:::::%###############",
 "================#-.:-#:=%::::::::::::-#::::::::::::::::::::::::::::::+*=*#::::::.:.#*===============",
 "=================%-:-#:+#::::::::::::=+::::::::::::::::::::::::::::::=*===%=:::::.:#=========++++++=",
 "########%%%%%%%%%%@-=#::#*-:::::::::-%:::::::::::::::::::::::::::::::=%#####%-:..:@%%###############",
 "####################@*::::#:=+##%%%%-::::::::::::::::::::::::::::::::=########%%#%##################",
 "####################@=:::=*:::::..==:::::::::::::::::::::::::::::::::-##############################",
 "####################@-:::#=.:.:..:+=:::::::::::::::::::::::::::::::::-%#############################",
 "####################%::::%:.:.:...+-::::::::::::::::::::::::::::::::::%#############################",
 "####################%:::-%.::.:...+-::::::::::::::::::::::::::::::::::%#############################",
 "#####################:::-#.:..:...+-::::::::::::::::::::::::::::::::::##############################",
 "####################+:::-=.:..::..+=::::::::::::::::::::::::::::::::::##############################",
 
     };
 
     printf("use * input alphet C!\n");
     for(int i=0;i<sizeof(c_pattern)/sizeof(c_pattern[0]);i++){
         printf("%s\n",c_pattern[i]);
     }
}

void cal_9x9(){
    int i,j,result;
    printf("\n");
    for(i=1;i<10;i++){
        for(j=1;j<=i;j++){
            result=i*j;
            printf("%d * %d = %-3d",i,j,result);
        }
        printf("\n");
    }

}

void cal_fib(){
    int a=1,b=1,temp,i;
    printf("%12d%12d",a,b);
    printf("\n");
    for(i=3;i<=20;i+=2){
        temp=a+b;
        printf("%12d",temp);

        a=b;
        b=temp;

        temp=a+b;
        printf("%12d\n",temp);
        a=b;
        b=temp;

    }
}

void check_prime(){
    int i,j;
    int count=0;

    for(i=101;i<=200;i++){
        for(j=2;j<i;j++){
            if (i%j==0){
                break;
            }

        }
        if (j>=i){
            count++;
            printf("%d ",i);
            if (count%5==0){
                printf("\n");
            }
        }
    }
}

bool isprime(int num){
    if (num<=1) return false;
    if (num<=3) return true;
    if (num%2==0||num%3==0) return false;
    
    for(int i=5;i*i<=num;i+=6){
        if (num%i==0||num%(i+2)==0) return false;
    }

    return true;
}

void check_100_to_200_is_prime(){
    for(int i=101;i<=200;i++){
        if (isprime(i)){
            printf("%d ",i);
        }
    }

}

int countdigits(int num){
    int count=0;
    while(num!=0){
        num/=10;
        count++;
    }
    return count;
}

int is_armstrong(int num){
    int origin=num;
    int digits=countdigits(num);
    int sum=0;

    while(num!=0){
        int digit=num%10;
        sum+=pow(digit,digits);
        num/=10;
    }

    return sum==origin;
}

void find_gcd(){
    int n,i;
    scanf("%d",&n);
    printf("%d=",n);
    for(i=2;i<=n;i++){
        while(n%i==0){
            printf("%d",i);
            n/=i;
            if (n!=1) printf("*");
        }
    }

}

void find_gcd_and_lcd(){
    int a,b,t,r,n;
    scanf("%d %d",&a,&b);
    if (a<b){
        t=b;
        b=a;
        a=t;
    }
    r=a%b;
    n=a*b;
    while(r!=0){
        a=b;
        b=r;
        r=a%b;
    }
    printf("%d %d\n",b,n/b);
}

void count_words_number(){
    char c;
    int lettercount=0,space_count=0,digitcoiunt=0,othercount=0;
    
    while((c=getchar())!='\n'){
        if ((c>='a'&&c<='z')||(c>='A'&&c<='Z')){
            lettercount++;
        }
        else if (c>='0'&&c<='9'){
            digitcoiunt++;
        }
        else if(c==' '){
            space_count++;
        }
        else{
            othercount++;
        }
    }

    printf("%d %d %d %d",lettercount,digitcoiunt,space_count,othercount);

    
}

int cal_term(int count,int base){
    if (count==1){
        return base;
    }
    else{
        return cal_term(count-1,base)*10+base;
    }
}

int findivisors(int num,int **divisors){
    int sum=1;
    int count=1;
    *divisors=(int*)malloc(num*sizeof(int));
    (*divisors)[0]=1;
    for(int j=2;j<=num/2;j++){
        if (num%j==0){
            sum+=j;
            (*divisors)[count++]=j;
        }
    }

    return sum;
}


int main()
{
    int n=1000;
    for(int i=2;i<=n;i++){
        int *divisors;
        int sum=findivisors(i,&divisors);

        if (i==sum){
            printf("%d = %d ",i, divisors[0]);
            for(int n=1;divisors[n]!=0;++n){
                printf("+ %d",divisors[n]);
            }
            printf("\n");
        }

        free(divisors);
    }

  
    return 0;
}

